import { useState } from "react";
import { MapContainer, TileLayer, Marker, Popup } from "react-leaflet";
import "leaflet/dist/leaflet.css";
import L from "leaflet";

// Fix default marker icon issue
import markerIcon2x from "leaflet/dist/images/marker-icon-2x.png";
import markerIcon from "leaflet/dist/images/marker-icon.png";
import markerShadow from "leaflet/dist/images/marker-shadow.png";

const defaultIcon = L.icon({
  iconUrl: markerIcon,
  iconRetinaUrl: markerIcon2x,
  shadowUrl: markerShadow,
  iconSize: [25, 41],
  iconAnchor: [12, 41],
});

L.Marker.prototype.options.icon = defaultIcon;

export default function DealerMapPage() {
  const [search, setSearch] = useState("");

  const towns = [
    { name: "A GREEN PARK TYRE HOUSE", address: "NO 61/G/3, BANDARAWATHTHA", lat: 7.090793978212705, lng: 80.02100696102725 },
  { name: "ABESINGHE BATTERY CENRET", address: "B KOTASA, MEEGAMUWA ROAD, DABADENIYA", lat: 7.6280, lng: 80.2420 },
  { name: "ABESUNDARA TYRE SERVICE", address: "NO.HIRIBURA ROAD, GALLE", lat: 6.0535, lng: 80.2210 },
  { name: "ACCESS TYRE SERVICE", address: "RAKWANA", lat: 6.4057, lng: 80.6131 },
  { name: "ACCMART MOTORS (PVT) LTD", address: "N0.14, SRI PERAKUMBA MAWATHA, KOTTE ROAD, KOTTE", lat: 6.9000, lng: 79.9000 },
  { name: "AFAAS TYRE HOUSE", address: "KALMUNA RD, ARAYAMPATTU", lat: 7.2167, lng: 81.8500 },
  { name: "AJITH TYRE SERVICE", address: "NO:163/3, NUWARA RD, MIRISWATHTHA", lat: 7.0900, lng: 79.9900 },
  { name: "AKILA TYRE CENTER", address: "NO.157, PERADENIYA ROAD, HALLOLUWA, KANDY", lat: 7.3160, lng: 80.6060 },
  { name: "AL.JAZEERA TYRE WORKS", address: "465, MAIN STREET, KALMUNAI", lat: 7.4167, lng: 81.8167 },
  { name: "AMARASINGHE TYRE HOUSE", address: "MATHUGAMA", lat: 6.5289, lng: 80.1139 },
  { name: "AMARASINGHE TYRE TRADERS", address: "NO:115/5/F, PITIPANA ROAD, BOPITIYA, PAMUNUGAMA", lat: 6.9500, lng: 79.9000 },
  { name: "AMARATHUNGA TYRE HOUSE - HIGULA", address: "NO/56, KANDY ROAD, HIGULA", lat: 7.0500, lng: 80.6500 },
  { name: "ANANDA TYER HOUSE", address: "96, THIBOLKATIYA, KOLABAGEARA", lat: 7.0000, lng: 80.4000 },
  { name: "ANANDA TYRE CENTER", address: "NO:22/07, KANDY ROAD, KALAGEDIHENA", lat: 7.2500, lng: 80.6000 },
  { name: "ANANDA TYRE", address: "GALAHITIYA", lat: 6.9000, lng: 80.1000 },
  { name: "ANJELO TYREMART", address: "NO:196, KURUNAGALA RD, HETTIPOLA", lat: 7.4833, lng: 80.2333 },
  { name: "ANJULA TYRE CENTER", address: "KURUNAGALA RD, HORAGASMULLA, DIVULAPITIYA", lat: 7.2500, lng: 79.9833 },
  { name: "ANURA TYRE CENTER - KURUDUWATHTHA", address: "MATARA ROAD, KURUDUWATHTHA", lat: 5.9500, lng: 80.5500 },
  { name: "ANURA TYRE WORKS BATAPOLA", address: "KOBEITHUDUWA, BATAPOLA", lat: 6.9000, lng: 80.3500 },
  { name: "ANURA TYRES (PVT) LTD", address: "KALAWANA", lat: 6.5833, lng: 80.4167 },
  { name: "ANURA TYRES (PVT) LTD", address: "NIVITHIGALA", lat: 6.8000, lng: 80.4500 },
  { name: "ANURA TYRES (PVT) LTD", address: "PANNIPITIYA", lat: 6.8500, lng: 79.9500 },
  { name: "ANURA TYRES (PVT) LTD", address: "RATNAPURA", lat: 6.6828, lng: 80.3989 },
  { name: "AQEEL MOTORS", address: "MNO:175, MAIN STREET, ODDAMAWADI", lat: 8.2500, lng: 80.9500 },
  { name: "ARM TYRE SHOP", address: "MAIN STREET, ERAVUR", lat: 7.9333, lng: 81.5667 },
  { name: "ASANKA TYRE", address: "DEMATAGODA", lat: 6.9300, lng: 79.9000 },
  { name: "ASGIRIYA TYRE HOUSE", address: "NO:33, WARIYAPOLA SRISUMANGALA MAWATHA, ASGIRIYA", lat: 7.4800, lng: 80.3600 },
  { name: "ASHOKA TYRE CENTER - GELIOYA", address: "NO.361/2/A KARAMADA, GELIOYA", lat: 7.3667, lng: 80.5667 },
  { name: "ASIAN TYRE CENTER", address: "165/A, WILLIAM GOPALLAWA MAWATHA, KANDY", lat: 7.2906, lng: 80.6337 },
  { name: "ASIRI AUTO SERVICE", address: "ETHUMALE, MAPALAGAMA, GALLE", lat: 6.0500, lng: 80.2200 },
  { name: "ASIRI TYRE SERVICE", address: "520, GALLE RD, AMBALANGODA", lat: 6.2170, lng: 80.0560 },
  { name: "ASITHA TYRE CENTER", address: "DIULAPITIYA RD, NILPANAGODA, MINUWANGODA", lat: 7.1800, lng: 79.9500 },
  { name: "AUTO CARE FILLING STATION (PVT) LTD", address: "455/A, KANDY RD, KEGALLE", lat: 7.2667, lng: 80.3500 },
  { name: "AUTO FOAM (PVT) LTD", address: "135, BATAGAMA NORTH, JA-ELA", lat: 7.2000, lng: 79.9500 },
  { name: "AUTO HOUSE", address: "KULIYAPITIYA", lat: 7.4667, lng: 79.9667 },
  { name: "AUTO KINGDEM TYRE", address: "KAKIRAWA", lat: 7.4833, lng: 79.9667 },
  { name: "AUTO TYRE WAYS (PVT) LTD", address: "153, DHARMAPALA MAWATHA, ANURADHAPURA", lat: 8.3114, lng: 80.4037 },
  { name: "AWANTHA BATTERY HOUSE", address: "NO:16, HINGURANA", lat: 7.3500, lng: 81.0500 },
  { name: "BABY & SONS TYRE HOUSE", address: "NO:36, MARTIKALI JUNCTION, KANDY ROAD, TRINCOMALEE", lat: 8.5833, lng: 81.2333 },
  { name: "BANDULA TYRE HOUSE", address: "NO:33, MAIN STREET, LUNUGALA", lat: 6.9333, lng: 81.0500 },
  { name: "BATAPOLA TYRE WORKS", address: "BATAPOLA", lat: 6.9000, lng: 80.3500 },
   { name: "BAWANAGIRI MOTOR TREADING COMPANY", address: "NO:106/12/D, PADUKKA RD, PUWAKWATTA, MEEGODA", lat: 6.9000, lng: 80.1167 },
  { name: "BUDDIKA TYRE CENTER", address: "NO:258, NEGAMBO RD, KURUNAGALA", lat: 7.4863, lng: 80.3620 },
  { name: "BUDDIKA TYRE HOUSE", address: "RAGALA ROAD, RIKILLAGASKADA", lat: 7.3333, lng: 80.6167 },
  { name: "CHAMI HARDWARE AND TYRE HOUSE - KEGALLA", address: "NO.311/D, KANDY ROAD, RANCHALA ROAD, KEGALLA", lat: 7.2667, lng: 80.3500 },
  { name: "CHAMILA TYRE SERVICE - AMPEGAMA", address: "BADDEGAMA ROAD, AMPEGAMA", lat: 6.2667, lng: 80.0500 },
  { name: "CHAMILA TYRE WORKS & WHEEL ALIGNMENT SERVICE", address: "183, HORANA ROAD, KESBEWA", lat: 6.8167, lng: 79.9667 },
  { name: "CHANAKA TYRE", address: "191/I GALE ROAD, RATHMALANA", lat: 6.8333, lng: 79.9000 },
  { name: "CHANDANA OIL AND BATTERY CENTER", address: "NO:177/E/1, POLE, ATHURUGIRIYA", lat: 6.9333, lng: 79.9500 },
  { name: "CHANDRA TYRE CENTRE", address: "AGALAWATTA ROAD, BADURALIYA", lat: 6.6667, lng: 80.1833 },
  { name: "CHANDRIKA TYRE SERVICE", address: "TANGALLE RD, DEWINUWARA", lat: 6.3333, lng: 80.1000 },
  { name: "CHATHURA TYRE HOUSE (PVT) LTD", address: "NO:245, HOSPITAL JUNCTION, POLONNARUWA", lat: 8.9500, lng: 81.0000 },
  { name: "CHATHURANGA TYRE WORKS", address: "HORANA ROAD, EGALOYA", lat: 6.8167, lng: 79.9667 },
  { name: "CITY HOLDING LANKA (PVT) LTD", address: "NO:14, UDATHALAWINNA, MADIGE, UDATHALAWINNA", lat: 6.9000, lng: 80.0833 },
  { name: "CITY TYRE CENTER", address: "26/01/A GANGSIRI ROAD, GAMPOLA", lat: 7.1000, lng: 80.6000 },
  { name: "CITY TYRE", address: "NO:30/A, PUTTLAM RD, NOCHCHIYAGAMA", lat: 8.1000, lng: 80.1000 },
  { name: "COLOMBO TYRE SERVICE", address: "NO.195 MAIN STREET, RUWANWELLA", lat: 7.3333, lng: 80.5500 },
  { name: "D&S DISTRIBUTORS", address: "NO:165, MIDDENIYA ROAD, WALASMULLA", lat: 6.7333, lng: 80.3500 },
  { name: "D.K.TYRE WORKS", address: "NUWARAELIYA ROAD, TALAWAKALE", lat: 6.9667, lng: 80.7833 },
  { name: "D.S.TYRE WORKS", address: "KITTAWAGAMA, GALLE", lat: 6.0535, lng: 80.2210 },
  { name: "DAKO TYRE SERVICE - THALAWAKELE", address: "NO:65/KOTHMALE ROAD, THALAWAKELE", lat: 6.9667, lng: 80.7833 },
  { name: "DAMINDU TYRE & BATTERIES", address: "NO:06 PANADURA RD, BANDARAGAMA", lat: 6.8500, lng: 79.9833 },
  { name: "DAMMIKA TYRE WORKS", address: "NO:03, PANADURA RD, INGIRIYA", lat: 6.8500, lng: 79.9833 },
  { name: "DANANSURIYA TYRE CENTER", address: "YOGIYANA, DANKOTUWA", lat: 7.4833, lng: 79.9667 },
  { name: "DANTHURE TYRE CENTER", address: "NO:441, DANTHURE", lat: 7.2833, lng: 80.6333 },
  { name: "DARSHANA BATTERY & TYRE WORKS - HOKANDARA", address: "NO:120/A HOKANDARA SOUTH, HOKANDARA", lat: 6.9333, lng: 79.9500 },
  { name: "DARSHANA TYRE HOUSE - RIKILLAGASKADA", address: "KANDY ROAD, RIKILLAGASKADA", lat: 7.3333, lng: 80.6167 },
  { name: "DASATHA TYRES - KIRIBATHKUMBURA", address: "NO.61, COLOMBO ROAD, KIRIBATHKUMBURA", lat: 6.9667, lng: 80.7667 },
  { name: "DASUN TYRE", address: "NO:114, MAIN STREET, SIYAMBALANDUWA", lat: 6.8667, lng: 81.0167 },
  { name: "DAYASIRI TYRE WORKS", address: "NO:165 MIDDENIYA ROAD, WALASMULLA", lat: 6.7333, lng: 80.3500 },
  { name: "DELGODA BATTERY & TYRE CENTER", address: "NO:122/1, NEW KANDY ROAD, GOLUMMAHARA, DELGODA", lat: 6.9667, lng: 79.9833 },
  { name: "DELGODA TYRE CENTRE", address: "NO:375/1, PUGODA RD, DELGODA", lat: 6.9667, lng: 79.9833 },
  { name: "DHANULA TYRE WORKS (PVT) LTD", address: "NO:725/2 KADUWELA ROAD, THALAHENA, BATTARAMULLA", lat: 6.9333, lng: 79.9500 },
  { name: "DIAMOND TYRE HOUSE", address: "NO:273, KULIYAPITIYA, NARAMMALA", lat: 7.4667, lng: 79.9667 },
  { name: "DIDULA TYRE SERVICE", address: "NO:687/1/E, PANAGODA ROAD, DEDIGAMUWA", lat: 6.9500, lng: 79.9000 },
  { name: "DIMUTHU TYRE HOUSE", address: "KANDY ROAD, 9TH MILE POST, ILLUKEWELA, WEUDA", lat: 7.2833, lng: 80.6333 },
  { name: "DIMUTHU TYRE HOUSE", address: "NO:512, AWISSAWELLA ROAD, KARAVANELLA", lat: 6.9667, lng: 80.1167 },
  { name: "DISNA TYRE CENTER & MOTORS", address: "PALAWATHTHA RD, NELUWA", lat: 6.4167, lng: 80.1833 },
  { name: "DS TYRE CENTER", address: "NO:39/A GINIGATHHENA RD, HATTON", lat: 7.0000, lng: 80.5833 },
  { name: "EDIRISINGHE TYRE HOUSE", address: "WALLAWAYA RD, PANNEGAMUWA", lat: 7.2500, lng: 80.6000 },
  { name: "EROSHA TYRE (PVT) LTD", address: "618, BULUGAHA, KELANIYA", lat: 6.9667, lng: 79.9000 },
  { name: "FJ TYRES", address: "NO:245, HOSPITAL RD, KALUBOWILA", lat: 6.8833, lng: 79.8833 },
  { name: "FONSEKA TYRE HOUSE", address: "NO:31/B, DIMUTHUGAMA, KADURUWELA", lat: 7.2500, lng: 81.0333 },
  { name: "FRANK TYER WORKS", address: "75/A, MINUWANGODA ROAD, KANAWANA, JA-ELA", lat: 7.0833, lng: 79.9500 },
  { name: "GAJASIRI TYRE HOUSE", address: "HINGURAKGODA", lat: 7.4000, lng: 81.0000 },
  { name: "GAMAGE TYRE HOUSE", address: "NO:124, UDUPUSSALLAWA ROAD, HAWAELIYA, NUWARAELIYA", lat: 6.9667, lng: 80.7833 },
  { name: "GAMAGE TYRE WORKS", address: "NO.56, D.C. WANIGASEKARA MAWATHA, AKURASSA", lat: 6.7333, lng: 80.3500 },
  { name: "GARLIN TYRE", address: "NO:65, D.S. SENANAYAKA STREET, AMPARA", lat: 7.3000, lng: 81.6667 },
  { name: "GAVESH TYRE CENTRE", address: "171/D, PERALANDA RD, RAGAMA", lat: 7.0167, lng: 79.9333 },
  { name: "GLOBAL WHEEL MART", address: "NO:208, MATALE RD, DAMBULLA", lat: 7.8667, lng: 80.6500 },
  { name: "GOLDEN TYRE TRADING PVT LTD - AKURANA", address: "NO.171, MATALE ROAD, KUDUGALA, AMBATENNA, AKURANA", lat: 7.3500, lng: 80.6000 },
  { name: "GONAPINUWALA TYRE", address: "GONAPINUWALA", lat: 7.2000, lng: 80.5500 },
  { name: "GTR TYRE MART", address: "MAIN STREET, PERIYAPORATIVU", lat: 8.0333, lng: 79.9833 },
  { name: "HADUNNETHTHI TYER CENTER", address: "BADDEGAMA ROAD, UKOWITA, UDUGAMA", lat: 6.6000, lng: 80.1833 },
  { name: "HANIFFA TYRE WORKS", address: "MAIN STREET, SAMANTHURAI", lat: 7.2000, lng: 81.5833 },
  { name: "HAPANGAMA TYRE CENTER", address: "29/3, PODUSEWA MAWATHA, HENAMULLA, PANADURA", lat: 6.7500, lng: 79.9833 },
  { name: "HARSHA AUTO ENTERPRISES", address: "NO:231, WERAHERA, BORALESGAMUWA", lat: 6.9000, lng: 79.9500 },
  { name: "HARSHA TYRE CENTER", address: "UHUMEEYA", lat: 7.0333, lng: 79.9000 },
  { name: "HASHINIKA TYRE", address: "GALLE", lat: 6.0535, lng: 80.2210 },
  { name: "HASITHA TYRE SERVICE", address: "450, BADDEGAMA RD, BELIGAHA JUNCTION, GALLE", lat: 6.0535, lng: 80.2210 },
  { name: "HI- POWER TYRE HOUSE", address: "4A, MATARA RD, DEWATA, GALLE", lat: 6.0535, lng: 80.2210 },
  { name: "HIRAN TYRE HOUSE", address: "373/D KAPUWATHTHA, JA-ELA", lat: 7.0833, lng: 79.9500 },
  { name: "HIRIWADUNNA TYRE SERVICE", address: "HIRIWADUNNA MOTORS, KEGALLE ROAD, HIRIWADUNNA", lat: 7.2667, lng: 80.3500 },
  { name: "INDIKA TYRE", address: "ALUTHGAMA", lat: 6.5833, lng: 79.9667 },
  { name: "IRANGA TYER CENTER - COLOMBO 10", address: "NO.67/22, PRADEEPA MAWATHA, MALIGAWATHTHA, COLOMBO", lat: 6.9333, lng: 79.8500 },
  { name: "ISURU MOTORS & TYRE CENTER", address: "KURUNAGALA ROAD, GALGAMUWA", lat: 7.6667, lng: 80.1167 },
  { name: "ISURU TYRE CENTER", address: "NO:315, PUTTALAM ROAD, KURUNAGALA", lat: 7.4863, lng: 80.3620 },
  { name: "JAYA SRI TYRE CENTER", address: "MEEGAMUWA RD, RAMMUTHUGALA, NARAMMALA", lat: 7.3333, lng: 80.6167 },
  { name: "JAYANTHA TRADERS", address: "NO:408, KANDY ROAD, KELANIYA", lat: 7.0000, lng: 79.9667 },
  { name: "JAYANTHI TYRE CENTER (PVT) LTD", address: "CHILAW RD, KATUNERIYA", lat: 8.1333, lng: 79.9833 },
  { name: "JAYASIRI AUTO ENGINEERING (PVT) LTD", address: "NO:516, KANDY ROAD, BELIGAMMANA, MAWANALLA", lat: 7.2833, lng: 80.6333 },
  { name: "JAYAWEERA TYRE", address: "HABARADUWA", lat: 6.0833, lng: 80.0667 },
  { name: "JEEWA TYRE CENTER", address: "04TH BRIDGE, MORAGAHA PALLAMA, DAMANA, AMPARA", lat: 7.3333, lng: 81.6667 },
  { name: "JEEWANTHA TYRE HOUSE", address: "646/1/1, NEGAMBO ROAD, MAHABAGE, RAGAMA", lat: 7.0167, lng: 79.9333 },
  { name: "JMS MOTORES", address: "PALLEBEDDA", lat: 6.6333, lng: 80.1500 },
  { name: "K.KUNARATNAM WHEEL ALIGNMENT (PVT) LTD", address: "NO:808, THADDATHERU JUNCTION, K.K.S. ROAD, JAFFNA", lat: 9.6615, lng: 80.0255 },
  { name: "KALHARA TYRE SERVICE", address: "UDAWALA, OPANAYAKA", lat: 7.2500, lng: 80.6000 },
  { name: "KAMBURUPITIYA AUTO TYRE MART", address: "MATARA RD, KAMBURUPITIYA", lat: 5.9500, lng: 80.4667 },
  { name: "KANDY WHEEL HOUSE", address: "COLOMBO RD, PERADENIYA", lat: 7.2833, lng: 80.6333 },
  { name: "KAVINDU TYRE WORKS", address: "WALLAWAYA RD, WEERAWILA", lat: 6.2500, lng: 81.0000 },
  { name: "KAWI TYRE TRADES", address: "WATHAWANA, IMADUWA", lat: 6.8000, lng: 79.9667 },
  { name: "KEERTHI & SONS", address: "NO:201/10, PORE, ATHURUGIRIYA", lat: 6.9333, lng: 79.9500 },
  { name: "KEERTHI TYRE HOUSE", address: "HARAGAMA", lat: 6.9500, lng: 80.1000 },
  { name: "KELANIVALLEY TYRE TREDING", address: "NO:182, COLOMBO ROAD, UKWATTA, AVISSAWELLA", lat: 6.9000, lng: 80.1500 },
  { name: "KOTAPOLA TYRE HOUSE", address: "MAGAHENA, GALDORA, KOTAPOLA", lat: 5.9833, lng: 80.4500 },
  { name: "KOTTAWATTA TYRE SERVICE", address: "UDAWALAWA JUNCTION, KOLAMBAGE-ARA", lat: 6.9667, lng: 80.3333 },
  { name: "KUMARA TYRE CENTER", address: "DANKOTUWA", lat: 7.2500, lng: 79.9833 },
  { name: "KUSUM TYRE & WHEEL ALIGNMENT CENTER", address: "KELANIYA", lat: 7.0000, lng: 79.9500 },
  { name: "KUSUM TYRE TRADERS", address: "NO:69, NEGAMBO ROAD, JA-ELA", lat: 7.0833, lng: 79.9500 },
  { name: "LAK PREMIER LANKA TRADING (PVT) LTD", address: "28, MILE POST, POLONNARUWA", lat: 7.9333, lng: 81.0000 },
  { name: "LAKBIMA TYRE HOUSE - KATUGASTHOTA", address: "NO.407/3, KURUNAGALA ROAD, KATUGASTHOTA", lat: 7.2833, lng: 80.6333 },
  { name: "LAKMINA TYRE MART", address: "WALAWWATHTHA, BATHIGAMA, DIKWALLA", lat: 5.9833, lng: 80.4500 },
  { name: "LAKPRIYA TYRE CENTER (PVT) LTD", address: "NO.242/A, INDIGAHAMULLA, KIRILLAWALA", lat: 6.9500, lng: 80.1667 },
  { name: "LAKSHAN TYRE SHOP", address: "NO.303 MAIN ROAD, BADALKUBURA", lat: 6.9833, lng: 80.1667 },
  { name: "LAKSHMI TYRE CENTER", address: "ANURADHAPURA ROAD, GALGAMUWA", lat: 7.3333, lng: 80.6167 },
  { name: "LAKWIJAYA TYRE HOUSE", address: "UHANA ROAD, AMPARA", lat: 7.3000, lng: 81.6667 },
  { name: "LANKA DEEP WELLS (PVT) LTD", address: "NO:312/1, NEGAMBO ROAD, KURUNAGALA", lat: 7.4863, lng: 80.3620 },
  { name: "LEEDS TYRE TRADING (PVT) LTD", address: "GAMPOLA", lat: 7.0000, lng: 80.6000 },
  { name: "LION TYRE HOUSE", address: "NO:214/1, KANDY ROAD, ABEYAPURA, TRINCOMALEE", lat: 8.5667, lng: 81.2333 },
  { name: "MADAGAMA TYRE HOUSE", address: "NO:131, BIBILA ROAD, MADAGAMA", lat: 6.9167, lng: 80.0333 },
  { name: "MAHEEPALA TYRE", address: "ELPITIYA", lat: 6.4667, lng: 80.1333 },
  { name: "MAHINDA TYRE SERVICE", address: "NO:425, COLOMBO RD, MAWANELLA", lat: 7.2667, lng: 80.6333 },
  { name: "MAKEEN MARKETING", address: "5/B, MUSLIM ROAD, WALIPANNA", lat: 6.9000, lng: 80.1333 },
  { name: "MAKUMBURA AUTO HUB", address: "375/11A HIGH LEVEL ROAD, MAKUMBURA, PANNIPITIYA", lat: 6.9000, lng: 79.9833 },
  { name: "MALEESHA TYRE CENTER", address: "NO:154, MONARAGALA RD, BUTTALA", lat: 6.8167, lng: 81.0833 },
  { name: "MANJULA ELECTRICALS & CONSTRUCTION (PVT) LTD", address: "NO 98 GODAWELA, POLGAHAWELA", lat: 7.4500, lng: 80.0667 },
  { name: "MEETIYAGODA TYRE SERVICE", address: "NEAR POLICE STATION, MEETIYAGODA", lat: 6.9833, lng: 79.9833 },
  { name: "MINIMUTHU TYRE HOUSE", address: "GALENBINDUNU WEWA", lat: 6.9667, lng: 80.1500 },
  { name: "MOUNT WHEEL TYRE CENTER", address: "NO:A/316, USWATHTHA, SINGHARAMULLA, KELANIYA", lat: 7.0000, lng: 79.9500 },
  { name: "NADEEKA TYRE & MOTORES", address: "NO.78/1 HAPUTHALE ROAD, BORALANDA", lat: 6.8167, lng: 80.6500 },
  { name: "NALAKA TYRE AGENCIES", address: "NO:381, GALLE ROAD, EATHAGAMA, KALUTHARA", lat: 6.5833, lng: 79.9667 },
  { name: "NANAYAKKARA TYRE HOUSE", address: "WANCHAWALA, GALLE", lat: 6.0535, lng: 80.2210 },
  { name: "NANDA TYRES SERVICES", address: "NO:146, HOSPITAL ROAD, KALUBOWILA, DEHIWALA", lat: 6.8667, lng: 79.8667 },
  { name: "NATHEESH TYRE CENTER", address: "MAIN STREET, VALAICHENAL", lat: 6.8333, lng: 81.0667 },
  { name: "NAZAR TYRE WORKS", address: "NO:13, AMPITIYA ROAD, KANDY", lat: 7.2833, lng: 80.6333 },
  { name: "NEW ARADHANA TYRE CENTER", address: "NO 576/1/1, PITIPANA SOUTH", lat: 6.9000, lng: 79.9833 },
  { name: "NEW K.L.S. WHEEL BASE", address: "NO:218/3, HORANA ROAD, MIRISWATHTHA", lat: 6.9000, lng: 79.9833 },
  { name: "NEW KANDYAN TYRE CENTER", address: "NO 346, COLOMBO ROAD", lat: 6.9333, lng: 79.9833 },
  { name: "NEW PERERA ENTERPRISES", address: "250/1, KADUWELA ROAD, MALABE", lat: 7.0000, lng: 79.9833 },
  { name: "NEW SAMOON TYRE WORKS - DEANS ROAD COLOMBO ROAD 10", address: "NO.185 DEANS ROAD, COLOMBO ROAD 10", lat: 6.9333, lng: 79.8500 },
  { name: "NEW WIJAYA TYRE", address: "MATARA RD, PELANA, WELIGAMA", lat: 5.9833, lng: 80.4667 },
  { name: "NEW WINSTAR TYRE", address: "TANGALLE ROAD, GANDARA", lat: 6.3000, lng: 80.8000 },
  { name: "NIMNA TYRE HOUSE & WHEEL ALIGNMENT", address: "NO:481, 3RD KURANA, NEGOMBO-COLOMBO MAIN ROAD, NEGOMBO", lat: 7.2000, lng: 79.8333 },
  { name: "NIROSHAN MOTORS", address: "COLOMBO 5, 160A, KIRULAPONE AVENUE, COLOMBO 5", lat: 6.9000, lng: 79.8667 },
  { name: "NISAL TYRE HOUSE", address: "INFRONT OF THE TEMPLE, WALAWA, AMBALANTOTA", lat: 6.2167, lng: 81.1833 },
  { name: "NISHAN TYRE CENTER", address: "KANDY ROAD, NELUMDENIYA", lat: 7.2667, lng: 80.6167 },
  { name: "NISHANTHA TYRE CENTER", address: "46A, NEW GALLE ROAD, MORATUWA", lat: 6.8000, lng: 79.9000 },
  { name: "NISITHA TYRE WORKS", address: "CHILAW RD, MAHAWEWA", lat: 8.0333, lng: 79.9667 },
  { name: "NUWAN TYRE HOUSE - DOBAGAHAWELA", address: "POTHUWIL ROAD, PASALA ASALA, DOBAGAHAWELA", lat: 7.0667, lng: 80.1000 },
  { name: "OLIMPUS TYRE MART", address: "PELIYAGODA", lat: 7.0167, lng: 79.9000 },
  { name: "OLYMPIC TYRE HOUSE", address: "255, JAYANTHI MAWATHA, COLOMBO", lat: 6.9000, lng: 79.8500 },
  { name: "ONE WAY TYRE CENTER AND WHEEL ALIGNMENT - RABUKKANA", address: "MAWANALLA ROAD, RABUKKANA", lat: 6.9667, lng: 80.1167 },
  { name: "OSADA TYRE MART", address: "SUHADA MAWATHA, WADURAGALA, KURUNAGALA", lat: 7.5000, lng: 80.3500 },
  { name: "P.LIYANGE TYRE SERVICES", address: "BOPITIYA, GIRIULLA", lat: 7.0833, lng: 80.0333 },
  { name: "PALITHA TYRE", address: "NO:155/1, WATHUPITIWALA, NITTAMBUWA", lat: 7.1000, lng: 79.9833 },
  { name: "PARAMOUNT TYRE TRADERS", address: "NO:55, PRINCE OF WALES AVENUE, COLOMBO 14", lat: 6.9000, lng: 79.8667 },
  { name: "PARANGA TYRE CENTER - GALLE", address: "59, A, MAPALAGAMA, WADURABA, GALLE", lat: 6.0333, lng: 80.2167 },
  { name: "PATHIRANA TYRE WORKS", address: "NO:120, UDAPUSSELLAWA ROAD, HAWA ELIYA, NUWARA ELIYA", lat: 6.9667, lng: 80.7667 },
  { name: "PATHUM TYRE WORKS", address: "AHANGAMA RD, DICKKUMBURA", lat: 5.9833, lng: 80.4167 },
  { name: "PRADEEP TYRE WORKS", address: "NO:325/1, NAIWALA, VEYANGODA", lat: 7.0833, lng: 80.0167 },
  { name: "PRASADEE TYRE CENTER", address: "UDUGAMPOLA", lat: 7.0333, lng: 79.9500 },
  { name: "PURNIMA TYRE CENTER", address: "KESBEWA ROAD, NUGEGODA", lat: 6.9000, lng: 79.9500 },
  { name: "R.P. TYRE CENTER", address: "693/2/15, SUPER CITY, AWISSAWELLA ROAD, NAWAGAMUWA, RANALA", lat: 6.9500, lng: 80.0500 },
  { name: "R.P.K. ENTERPRISES", address: "307/1, KANDALIYADDAPALUWA, GANEMULLA", lat: 7.0000, lng: 79.9500 },
  { name: "RAJARATA TYRE HOUSE", address: "NO:519, G/33/A, JAYANTHI MAWATHA, ANURADHAPURA", lat: 8.3167, lng: 80.4167 },
  { name: "RAJASINGHE TYRE HOUSE", address: "KAKIRAWA", lat: 7.2500, lng: 79.9833 },
  { name: "RAKITHA TYRE CENTER", address: "261/2, HANWELLA ROAD, URAPOLA", lat: 6.9333, lng: 79.9833 },
  { name: "RANASINGHE TYRE CENTER", address: "NELUWA ROAD, KALUBOWITIYANA", lat: 6.9333, lng: 80.1333 },
  { name: "RANGA TYRE TRADERS", address: "NO:260, KACHCHETIYA HANDIYA, MONARAGALA", lat: 6.8167, lng: 81.0667 },
  { name: "RATHNA TYRE MART", address: "RANNA RD, AGUNUKOLAPALASSA", lat: 6.8167, lng: 81.0833 },
  { name: "RATHNA TYRE SERVICE", address: "COLOMBO RD, WARIYAGODA, ALAWWA", lat: 7.0333, lng: 80.7667 },
  { name: "RATHNA TYRE WORKS", address: "NELUWA RD, KALUBOWITIYANA", lat: 6.9333, lng: 80.1333 },
  { name: "RATHNA TYRE WORKS", address: "NO:38/1, 2ND MILE POST, WELIMADA RD, BANDARAWELA", lat: 6.8167, lng: 81.0667 },
  { name: "RATHNA TYRE", address: "KAHAWATHTHA", lat: 6.9500, lng: 80.1667 },
  { name: "RATHNAYAKA TYRE", address: "WALASMULLA ROAD, MIDDENIYA", lat: 6.7167, lng: 80.4500 },
  { name: "RATHNAYAKA WHEEL ALIGNMENT CENTER - DEMANHANDIYA", address: "NO:25/D/1, UTHURU KADIRANA, DIULAPITIYA ROAD, DEMANHANDIYA", lat: 6.9500, lng: 80.1000 },
  { name: "RAVINDRA LANKA AUTO SERVICE", address: "NO:134, HILLSTREET, KARAGAMPITIYA, DEHIWALA", lat: 6.8667, lng: 79.8667 },
  { name: "RD TYRE SHOP - RANNA", address: "THISSA ROAD, RANNA", lat: 6.8167, lng: 81.0833 },
  { name: "RENUKA TYRE SERVICE", address: "NO:610, NAWALA RD, RAJAGIRIYA", lat: 6.9000, lng: 79.9500 },
  { name: "ROHANA ENTERPRISES (KURUNAGALA) (PVT) LTD", address: "NO:288C, NEGOMBO ROAD, KURUNAGALA", lat: 7.5000, lng: 80.3500 },
  { name: "RUWAN TYRE CENTER", address: "GALGODAWATHTHA, NAGODA JUNCTION, MALIMBADA, PALATUWA", lat: 6.9500, lng: 80.0500 },
  { name: "S & S TYRE RETREDERS", address: "NO:51, KANDY RD, MENIKHINNA", lat: 7.0167, lng: 80.6167 },
  { name: "S&N TYRE CENTER", address: "207/A, MORATUWA, PILIYANDALA RD", lat: 6.8000, lng: 79.9000 },
  { name: "S.R. TYRE WORKS - MIRIGAMA (SAMPATH ABEPUSSA)", address: "NO:5/1, KIRIMATIULLA, NALIGAMA, MIRIGAMA", lat: 7.1667, lng: 80.0333 },
   { name: "SADUNI TYRE CENTER - NAULA", address: "NO.55, DABULLA ROAD, NAULA", lat: 7.6167, lng: 80.6833 },
  { name: "SAHAN TYRE", address: "BADULLA", lat: 6.9833, lng: 81.0500 },
  { name: "SAIMA TYRE HOUSE", address: "NO:54, PULAM RD, NOCHCHIYAGAMA", lat: 8.3500, lng: 80.2500 },
  { name: "SAKURA TYRE HOUSE", address: "NO.72, COLOMBO ROAD, KATUWAWALA, WERAHENA, BORALESGAMUWA", lat: 6.8215, lng: 79.9000 },
  { name: "SAMAN ENTERPRISES", address: "NO:233, AMPEWELA, KARAUWEWA, GOKARELLA", lat: 7.5500, lng: 80.4000 },
  { name: "SAMARAWEERA TYRE", address: "MINNERIYA", lat: 8.0333, lng: 80.9167 },
  { name: "SAMPATH DISTRIBUTORES", address: "NO:272 A/141, MOTTAWA WATHTHA, KEEDENIYA, AMBEPUSSA", lat: 7.2500, lng: 80.1667 },
  { name: "SAMPATH TYRE SERVICE", address: "NO:412, MATARA ROAD, KATUGODA, GALLE", lat: 6.0536, lng: 80.2219 },
  { name: "SAMPATH TYRE TRADERS", address: "KATHARAGAMA ROAD, BUTTALA", lat: 6.7589, lng: 81.1964 },
  { name: "SAMPATH TYRE WORKS", address: "AHANGAMA", lat: 5.9833, lng: 80.4167 },
  { name: "SAMPATH TYRE", address: "NUWARA ELIYA ROAD, DELPITIYA", lat: 6.9500, lng: 80.7167 },
  { name: "SANDAGIRI BATTERY WORKS", address: "NO.112/2, 8TH MILE POST, KANDY ROAD, KELANIYA", lat: 6.9667, lng: 79.9167 },
  { name: "SANJEEWA TYRE HOUSE", address: "RANALA", lat: 6.9000, lng: 80.0167 },
  { name: "SANKA DIGITAL WHEEL CARE (PVT) LTD", address: "NO:81, PEPILIYANA ROAD, NUGEGODA", lat: 6.8650, lng: 79.8886 },
  { name: "SANKA INTERNATIONAL", address: "353/B, BOKUNDARA, PILIYANDALA", lat: 6.8000, lng: 79.9000 },
  { name: "SANOON TYRE SERVICE", address: "AKKARAPATTU, ARASIYADI, AMPARA", lat: 7.2167, lng: 81.8500 },
  { name: "SATHIRA TYRE WORKS", address: "HORANA ROAD, POLGASOWITA", lat: 6.8000, lng: 79.9833 },
  { name: "SATHSARANI TYRE HOUSE - MAKADURA", address: "WELWIGWADARA, RANSAGODA UTHURA, MAKADURA", lat: 6.3333, lng: 80.0667 },
  { name: "SAWIK AUTO MART", address: "NO.3/21, NEW DIYANA ROAD, HENAWALA, KUNDASALE", lat: 7.3000, lng: 80.7000 },
  { name: "SENARATH TYRE CENTER", address: "NO:191/1, HORANA ROAD, KOTTAWA", lat: 6.8411, lng: 79.9678 },
  { name: "SENARATHNA TYRE HOUSE", address: "NO:110, NUGAHENAWATTA, KIRINDIWELA", lat: 7.0667, lng: 80.1000 },
  { name: "SENEVIRATHNA TYRE CENTER", address: "EMBILIPITIYA", lat: 6.3375, lng: 80.8486 },
  { name: "SENU BATTERY MART", address: "MAIN STREET, NEAR THE BRIDGE, DENIYAYA", lat: 6.3167, lng: 80.5667 },
  { name: "SERENDIB TYRE MART & WHEEL ALIGNMENT", address: "NO:278, MAIN STREET, KATTANKUDY-01", lat: 7.6833, lng: 81.7333 },
  { name: "SERENDIB TYRE", address: "NO:551, NEW KALMUNAI ROAD, MANCHANTHODUWAI, BATTICALOA", lat: 7.7167, lng: 81.7000 },
  { name: "SHANTHA TYRE HOUSE - AMBATHANNA", address: "NO.26/1, MATHALE ROAD, AMBATHANNA", lat: 7.4833, lng: 80.6333 },
  { name: "SHANTHI TYRE MART (PVT) LTD", address: "NO:120, MAIN STREET, DIKWELLA", lat: 5.9667, lng: 80.6833 },
  { name: "SHENAL WHEEL ALIGNMENT & TYRE CENTER", address: "NO:33, NICHOLAS MARCUS ROAD, NEGOMBO", lat: 7.2000, lng: 79.8667 },
  { name: "SILVA TYRE", address: "HOROWPATHA ROAD, MADAWACHCHIYA", lat: 8.3500, lng: 80.4833 },
  { name: "SINGITHI TYRE HOUSE", address: "NO:54/A, NEW KANDY ROAD, GURUDENIYA", lat: 7.2833, lng: 80.6500 },
  { name: "SITHARA TYRE WORKS", address: "HETTIPOLA ROAD, KARAGAHAGEDARA, KULIYAPITIYA", lat: 7.4667, lng: 80.0500 },
  { name: "SIYAMBALANDUWA TYRE HOUSE", address: "41, KALUOBBA JUNCTION, SIYAMBALANDUWA", lat: 6.7833, lng: 81.6500 },
  { name: "SOORIYA OIL MART", address: "UDUGAMA ROAD, THAWALAMA", lat: 6.3167, lng: 80.4167 },
  { name: "SOUTHERN TYRE HOUSE", address: "NO:351/A, THOTAGODA, AKMEEMANA", lat: 6.0833, lng: 80.2833 },
  { name: "SPECIAL & SONS WHEEL ALIGNMENT", address: "NO:409/A, ALIVANINIYAR ROAD, SAMMANTHURAI-02", lat: 7.3667, lng: 81.8167 },
  { name: "STAR TYRE CENTER", address: "MIRIGAMA ROAD, BADALGAMA", lat: 7.2833, lng: 79.9500 },
  { name: "STARWIN TYRE HOUSE (PVT) LTD", address: "555/2, THALAHENA ROAD, BATTARAMULLA", lat: 6.9000, lng: 79.9500 },
  { name: "SUMUDU TYRE CENTER", address: "NO:45, NEGOMBO ROAD, KOCHCHIKADE", lat: 7.2333, lng: 79.8500 },
  { name: "SUPER GRIP INTERNATIONAL (PVT) LTD", address: "250/1D, KADUWELA ROAD, MALABE", lat: 6.9100, lng: 79.9600 },
  { name: "SUPER WE TYRE HOUSE", address: "NO.04, PARANA POLA HANDIYA, ARALAGANWILA", lat: 7.9000, lng: 81.1833 },
  { name: "SUPREEM TYRE", address: "PANNALA", lat: 7.3333, lng: 79.9500 },
  { name: "SUPUN TYRE SERVICE", address: "YAKKATUWA", lat: 7.4833, lng: 80.0667 },
  { name: "SWARNAKALUM WHEEL CARE (PVT) LTD", address: "Piliyandala, Maharagama Rd, Maharagama", lat: 6.8400, lng: 79.9300 },
{ name: "T&D MARKETING", address: "3rd Mile Post, Elayapattuwa, Anuradhapura", lat: 8.3333, lng: 80.3833 },
{ name: "THAMINDU TYRE & BATTERY CENTER", address: "Godagama", lat: 6.8400, lng: 80.0000 },
{ name: "THARANGA TYRE CENTER", address: "Wallawaya Road, Hulandawa, Monaragala", lat: 6.8667, lng: 81.3500 },
{ name: "THARINDU TYRE CENTER", address: "No.214, Udupussellawa Rd, Ragala", lat: 7.0000, lng: 80.8500 },
{ name: "THARINDU TYRE", address: "Battaramulla", lat: 6.9000, lng: 79.9500 },
{ name: "THARU AUTO ENTERPRISES", address: "503, High Level Road, Gangodawila, Wijerama, Nugegoda", lat: 6.8650, lng: 79.9000 },
{ name: "THE RITS TYRE MART - POLOGAHAWELA", address: "2/32, Kurunegala Road, Polgahawela", lat: 7.3333, lng: 80.3667 },
{ name: "THE TYRE HOUSE", address: "84, Wattegedara, Digana Rd, Kundasale", lat: 7.2833, lng: 80.7000 },
{ name: "THUSHARA TYRE WORKERS", address: "Madampe", lat: 7.5000, lng: 79.8500 },
{ name: "TISSA TYRE SERVICE", address: "51, Wallawatta, Welimada", lat: 6.9000, lng: 80.9167 },
{ name: "TOKYO LANKA ENTERPRISES - AKURANA", address: "179, Deegala Road, Kurugoda, Akurana", lat: 7.1500, lng: 80.6333 },
{ name: "TOYO CAR SALE & TYRE MART - MATARA", address: "2, Kamburugamuwa, Matara", lat: 5.9667, lng: 80.5333 },
{ name: "TYRE MAXX - BATTULU-OYA", address: "Tharawillu Junction, Battulu-Oya", lat: 8.2667, lng: 79.7333 },
{ name: "TYRE PARADISE (PVT) LTD", address: "130, Negombo Rd, Kandana", lat: 7.0500, lng: 79.9000 },
{ name: "TYRE WORLD AUTO ENGINEERING (PVT) LTD - KALUTARA", address: "30, Nagashandiya, Galle Rd, Waskaduwa, Kalutara", lat: 6.6333, lng: 79.9500 },
{ name: "TYRELINK", address: "69/A, Beliatta Rd, Walasmulla", lat: 6.1667, lng: 80.6667 },
{ name: "U & H WHEEL SERVICE (PVT) LTD", address: "72/78, Malaya Street, Colombo 02", lat: 6.9275, lng: 79.8487 },
{ name: "U.K. TYRE HOUSE", address: "Pilimathalawa", lat: 7.2500, lng: 80.5667 },
{ name: "U.K. TYRE HOUSE", address: "Daulagala", lat: 7.2333, lng: 80.5667 },
{ name: "U.K. TYRE", address: "322/A, Nuwara Eliya Rd, Hatton", lat: 6.9000, lng: 80.6000 },
{ name: "UDARA TYRE MART", address: "Kirinda Rd, Kamburupitiya", lat: 6.0667, lng: 80.5667 },
{ name: "UDAYA MOTORS", address: "Dodangoda", lat: 6.6000, lng: 79.9833 },
{ name: "UNIVERSAL TYRE SERVICE", address: "1043B, Maradana Road", lat: 6.9333, lng: 79.8500 },
{ name: "UNIVERSAL TYRE WORLD", address: "878, Thalagawa Junction, Gothatuwa", lat: 6.9333, lng: 79.9000 },
{ name: "UNIVERSAL TYRES", address: "Borella", lat: 6.9170, lng: 79.8700 },
{ name: "UTT TYRE CENTER", address: "381/2, Kurunegala Rd, Wathuwala, Katugastota", lat: 7.3333, lng: 80.6167 },
{ name: "VEYANGODA TYRE HOUSE", address: "Veyangoda", lat: 7.1500, lng: 80.0500 },
{ name: "WASANA TYRE WORKS", address: "Galle Rd, Panwila, Wanduramba", lat: 6.1833, lng: 80.3333 },
{ name: "WASANTHA TYRE WORKS", address: "Kosgoda Rd, Yudha Pitiya Asala, Uragasmanhandiya", lat: 6.3167, lng: 80.0667 },
{ name: "WAYABA TYER MOTORS", address: "Mahakeliya", lat: 7.6833, lng: 80.0500 },
{ name: "WELAGEDARA TYRE HOUSE", address: "Geli Oya", lat: 7.2333, lng: 80.6000 },
{ name: "WHEEL HOUSE", address: "81, Wilgoda Road, Kurunegala", lat: 7.4833, lng: 80.3667 },
{ name: "WHEEL MART", address: "351/T, Pannipitiya Road, Thalawathugoda", lat: 6.8650, lng: 79.9300 },
{ name: "WIJESINGHE TRADERS TYRE & ALIGNMENT CENTER", address: "Madampe Rd, Kanadulla, Kuliyapitiya", lat: 7.5800, lng: 80.0500 },
{ name: "WINLANKA GLOBAL TRADING (PVT) LTD", address: "224, Hemmathagama Rd, Mawanella", lat: 7.2500, lng: 80.4500 },

  ];

  // Filter towns based on search
  const filteredTowns = towns.filter((t) =>
    `${t.name} ${t.address}`
      .toLowerCase()
      .includes(search.toLowerCase())
  );

  // Map starting center
  const center = { lat: 7.8731, lng: 80.7718 };

  return (
    <div style={{ height: "100vh", width: "100%", position: "relative" }}>

      {/* SEARCH BAR */}
      <input
  type="text"
  placeholder="Search dealer or town..."
  value={search}
  onChange={(e) => setSearch(e.target.value)}
  style={{
    position: "absolute",
    top: "20px",
    left: "50%",
    transform: "translateX(-50%)",
    zIndex: 2000,               // make sure it's above the map
    padding: "12px 18px",
    width: "300px",
    borderRadius: "10px",
    border: "1px solid #ccc",
    fontSize: "16px",
    boxShadow: "0 4px 10px rgba(0,0,0,0.15)",
    backgroundColor: "white",    // ensure text is visible
    color: "black",              // text color
  }}
/>


      <MapContainer center={center} zoom={8} style={{ height: "100%", width: "100%" }}>
        <TileLayer url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png" />

        {filteredTowns.map((town, index) => (
          <Marker key={index} position={[town.lat, town.lng]}>
            <Popup>
              <strong>{town.name}</strong><br />
              {town.address}
            </Popup>
          </Marker>
        ))}
      </MapContainer>
    </div>
  );
}
